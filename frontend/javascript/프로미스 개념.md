---
summary: 프로미스 개념에 대해 간단하게 정리합니다.
date: 2024-10-17
title-image: 'https://raw.githubusercontent.com/codeleeks/blog/codeleeks-images/javascript/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%20%EC%99%84%EB%B2%BD%20%EC%A0%95%EB%A6%AC/title.png'
---

## 프로미스란?

프로미스(Promise)는 약속이라는 뜻이다.
나중에 데이터를 주겠다는 약속이다.

비동기 로직과 관련이 있다.
비동기라는 건 호출한 쪽에서 피호출자의 처리를 기다리지 않고 다른 일을 하는 것이다.
호출자는 피호출자의 처리 결과가 필요하다.
그런데 피호출자의 처리를 기다리고 싶지 않다.
그래서 피호출자는 호출자에게 처리 결과(데이터)를 나중에 주겠다는 약속을 한다. (비유하자면 채권 같은 거다)

호출자가 피호출자를 호출하면, 피호출자는 프로미스 객체를 반환한다.
호출자는 프로미스를 갖고 있다가 자기가 필요할 때 피호출자의 처리 결과를 요구한다.
처리 결과를 요구하는 과정에서 호출자는 다른 일을 하지 않고 처리 결과를 기다린다.

프로미스는 호출자가 결과를 받는 과정을 콜백 함수로 제공한다.
이 부분이 키 포인트이다.
프로미스의 결과값을 받으려면 콜백 함수에서 받아야 한다!

프로미스는 `then` 메서드를 통해 콜백 함수를 제공한다.
`then` 안에서 정의된 콜백함수는 결과값을 받을 수 있다.

콜백함수에서 또 반환한다면 이 반환값을 받는 호출자는 프로미스를 받는다.
결과값을 처리하는 로직은 언제나 콜백함수 내에서만 이뤄진다.

그래서 리액트에서 자주 보이는 패턴이 `useEffect` 내의 `fetch`와 `useState`의 setter 메서드 사용이다.

```js
useEffect(() => {
  fetch().then((data) => {
    setData((prev) => data)
  })
}, [])
```
